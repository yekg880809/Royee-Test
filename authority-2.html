<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>authority-2</title>

    <!-- Bootstrap core CSS -->
    <!--<link href="css/bootstrap.min.css" rel="stylesheet">-->
	<link href="bootstrap2/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!--<link href="css/custom/navbar-fixed-top.css" rel="stylesheet">
	<link href="css/custom/stickup.css" rel="stylesheet">-->
	<link href="css/custom/authority.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
<body>
	<div id="null-warning" class="modal hide fade" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
	  
	  <div class="modal-header">
		<button type="button" class="close alert-close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h4>&nbsp;</h4>
	  </div>
	  <div class="modal-body">
		<div class="alert alert-block fade in">
			<h3 class="title" style="display:inline;">Warning!</h3>	
			<h4 class="alert-heading contents" style="display:inline;"></h4>		
		</div>
	  </div>
	  <div class="modal-footer" style='display:none;'>
		<button class="btn btn-primary comfirm" data-dismiss="modal" aria-hidden="true">确定</button>
		<button class="btn cancel" data-dismiss="modal" aria-hidden="true">取消</button>
	  </div>
	</div>
	
	<div id="operation-modal" class="modal hide fade" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
	  
	  <div class="modal-header">
		<button type="button" class="close alert-close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h3>对象操作</h3>
	  </div>
	  <div class="modal-body">
			<label class="checkbox">
				<input class="op-checkbox op-create" type="checkbox" value="C">创建
			</label>
			<label class="checkbox">
				<input class="op-checkbox op-retrieve" type="checkbox" value="R">查询
			</label>
			<label class="checkbox">
				<input class="op-checkbox op-update" type="checkbox" value="U">修改
			</label>
			<label class="checkbox">
				<input class="op-checkbox op-delete" type="checkbox" value="D">删除
			</label>		
	  </div>
	  <div class="modal-footer">
		<button class="btn btn-primary oprt-submit" data-dismiss="modal" aria-hidden="true">确定</button>
	  </div>
	</div>
	
	<div id="limited-auth" class="modal hide fade" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
	  <div class="modal-body">
		<div class="alert alert-block alert-error limited-auth fade in">
			<h3 style="display:inline;">权限不足!</h3>			
		</div>
	  </div>
	</div>
	
	 
	<!-- Modal -->
	<div id="auth-list" class="modal hide fade" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
	  <div class="modal-header">
		<button type="button" class="close list-close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3 id="myModalLabel">权限列表</h3>
	  </div>
	  <div class="modal-body">
	  	<div class="alert alert-block alert-warning alert-null-group fade in" style="display:none;">
			<h3 style="display:inline;">Warning!</h3>	
			<h4 class="alert-heading" style="display:inline;">请选择用户组</h4>		
		</div>
		<div class="url-list auth-list" style="display:none;">
			<div class="form-search search-block">
				<div class="input-append">
					<input type="text" class="span3 search-query">
					<button type="submit" class="btn auth-search" data-search-type="url">查询</button>
				</div>
			</div>
			<table class="table table-striped table-bordered table-hover full-url-list">
				<thead>
					<tr>
						<th><a class="btn btn-info select-unAdd"><i class="icon-th icon-white"></i></a></th>
						<th>菜单名称</th>
						<th>菜单描述</th>
					</tr>
				</thead>
				<tbody>
					<tr style="display:none;">
						<td class="first-td"><input class="checkid" type="checkbox"/></td>
						<td class="second-td"></td>
						<td></td>
						<td style="display:none;"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="obj-list auth-list" style="display:none;">
			<div class="form-search search-block">
				<div class="input-append">
					<input type="text" class="span3 search-query">
					<button type="submit" class="btn auth-search" data-search-type="object">查询</button>
				</div>
			</div>
			<table class="table table-striped table-bordered table-hover full-obj-list">
				<thead>
					<tr>
						<th><a class="btn btn-info select-unAdd"><i class="icon-th icon-white"></i></a></th>
						<th>对象名称</th>
					</tr>
				</thead>
				<tbody>
					<tr style="display:none;">
						<td class="first-td"><input class="checkid" type="checkbox"/></td>
						<td></td>
						<td style="display:none;"></td>
					</tr>
				</tbody>
			</table>
		</div>
	  </div>
	  <div class="modal-footer">
		<button class="btn btn-primary plus-success" data-dismiss="modal" aria-hidden="true">添加</button>
	  </div>
	</div>

	<div class="wrap-table clearfix">
			<h3 class="bar">
				<i class="icon-play"></i><span class="black ui-icon4 baseUi">权限管理</span>
			</h3>
			<div class="container-fluid">
				<div class="row-fluid">
					<div class="span4">
							<div class="form-search">
								<div class="input-append search-block">
									<input name="name" type="text" class="span8 search-query">
									<button type="submit" class="btn group-search">查询用户组</button>
								</div>
							</div>
							<table class="table table-striped table-bordered table-hover hr-table group-table">
								<thead>
									<tr>
										<th><i class="icon-user"></i></th>
										<th>用户组</th>
									</tr>
								</thead>
								<tbody>
									<tr style="display:none;">
										<td style="display:none;"><input type="checkbox"/></td>
										<td></td>
									</tr>
									
								</tbody>
							</table>
					</div>
					<div class="span8">
						<ul class="nav nav-tabs nav-justified pull-left auths">
							<li class="active" role="presentation">
								<a href="#" class="url">菜单权限</a>
							</li>
							<li class="" role="presentation">
								<a href="#" class="obj">对象权限</a>
							</li>
						</ul>
						<section id="url-auth" class="auth-block">
							<div class="btn-group url-btns">
								<a href="#auth-list" class="btn auth-plus auth-url-plus" role="button" data-toggle="modal">增加权限</a>
								<button class="btn auth-del auth-url-del">删除权限</button>
							</div>
							<table class="table table-striped table-bordered table-hover auth-table url-auth-table">
								<thead>
									<tr>
										<th><i class="icon-eye-open"></i></th>
										<th>菜单名称</th>
										<th>菜单描述</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td class="second-td"></td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</section>
						<section id="obj-auth" class="auth-block" style="display:none;">
							<div class="btn-group url-btns">
								<a href="#auth-list" class="btn auth-plus auth-obj-plus" role="button" data-toggle="modal">增加权限</a>
								<button class="btn auth-del auth-obj-del">删除权限</button>
								<button class="btn obj-operations">操作权限</button>
							</div>
							<table class="table table-striped table-bordered table-hover auth-table obj-auth-table">
								<thead>
									<tr>
										<th><i class="icon-eye-open"></i></th>
										<th>对象名称</th>
										<th>对象操作</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td><input type="checkbox"/></td>
										<td></td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</section>
					</div>
				</div>
			</div>
	</div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/core/jquery-1.8.3.js"></script>
	<!--<script src="js/jquery.js"></script>-->
	<script src="assets/js/docs.min.js"></script>
	<script src="assets/js/src/application.js"></script>
    <script src="js/core/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="assets/js/ie10-viewport-bug-workaround.js"></script>
	<script type="text/javascript"> //initiating jQuery 
	
		$(document).ready(function(){
			getGroups('');
		});
		
		$('.auths > li > a').click(function(){
			$('.auths > li').removeClass('active');
			$(this).parent().addClass('active');
			$('.auth-block').hide();
			$('#'+$(this).attr('class')+'-auth').show();
		});

		$('.group-table > tbody > tr > td').live('click',function(){
			$(this).closest('tbody').children().removeClass('info');
			$(this).closest('tbody').find('input[type=checkbox]').prop('checked',false);
			
			$(this).prev().children().prop('checked',true);
			$(this).parent().addClass('info');
			queryGroupAuths();
			
		});
		
		var ckAuthlist = '';
		var excType = '';
		$('.auth-del').click(function(){
			var ckAuthlist = $(this).closest('section').children('.auth-table').find('input[type=checkbox]:checked');
			var allDelAuthsName = '';
			if(ckAuthlist.size() == 0){
				warning('请选择需要删除的权限!','','');
				return;
			}
			$(ckAuthlist).each(function(i){
				allDelAuthsName = allDelAuthsName + $(this).closest('td').next().text();
				if(i+1 < $(ckAuthlist).size()){
					allDelAuthsName = allDelAuthsName +　',';
				}
			});
			warning('确认删除'+allDelAuthsName+'权限？','确认','取消');
			excType = 'del';
				
		});
		
		$('#null-warning').find('.comfirm').click(function(){
			if(excType =='del'){
				ckAuthlist.each(function(){
					delGroupAuth($(this).val(),queryGroupAuths);
				});
			}
			excType =='';
		});

		$('.auth-plus').live('click',function(){
			if($('.group-table > tbody').find('input[type=checkbox]:checked').size()==0){
				$('.alert-null-group').show();
				$('.plus-success').hide();
				return;
			}
			$('.alert-null-group').hide();
			$('.glass-wall').show();
			if($(this).hasClass('auth-url-plus')){
				$('.url-list').show();
				getUnAddUrlAuths();
			}else{
				$('.obj-list').show();
				getUnAddObjAuths();
			}
			$('.plus-success').show();
			
		});

		$('.list-close').live('click',function(){
			$('.auth-list').hide();
		});

		$('.plus-success').on('click',function(e){
			var checklist = $('.auth-list').find('input[type=checkbox]:checked').closest('tr');
			if(checklist.size()==0){
				$('.glass-wall').show();
				warning('请选择需要添加的权限!');
				return false;
			}else{
				$('.auth-list').hide();
				$('.glass-wall').hide();
				$('#null-warning').modal('hide');
				addAuth2Group(checklist,queryGroupAuths);
			}
			$('.auth-list').find('input[type=checkbox]').prop('checked',false);
		});

		$('.glass-wall').click(function(){
			//$('#auth-list').modal('hide');
			//$(this).hide();
		});

		$('.list-close').live('click',function(){
			$('.glass-wall').hide();
			$('#null-warning').modal('hide');
		});
		
		$('.group-search').click(function(){
			var name = $(this).prev().val();
			getGroups(name);
		});
		
		$('.auth-search').click(function(){
			searchAuths($(this).prev().val(),$(this).attr('data-search-type'),$(this).closest('.form-search').next());
		});
		
		$('.obj-operations').click(function(){
			var objlist = $('.obj-auth-table').find('input[type=checkbox]:checked');
			if(objlist.size()>1){
				warning('请选择单条记录！');
				return;
			}else if(objlist.size()==0){
				warning('请选择一条记录！');
				return;
			}
			$('#operation-modal').modal('show');
			
			var oprts = $('.obj-auth-table').find('input[type=checkbox]:checked').closest('tr').html();
			if(oprts.indexOf('创建')>=0){
				$('.op-create').prop('checked',true);
			}
			if(oprts.indexOf('查询')>=0){
				$('.op-retrieve').prop('checked',true);
			}
			if(oprts.indexOf('更新')>=0){
				$('.op-update').prop('checked',true);
			}
			if(oprts.indexOf('删除')>=0){
				$('.op-delete').prop('checked',true);
			}
		});
		
		$('.oprt-submit').click(function(){
			var oprts = ''
			$('.op-checkbox:checked').each(function(){
				oprts = oprts +　$(this).val();
			});
			createObjOprt(oprts,queryGroupAuths);
			$('.op-checkbox').prop('checked',false);
		});
		
		$('.select-unAdd').click(function(){
			if($(this).closest('thead').next().find('input[type=checkbox]').hasClass('already-selected')){
				$(this).closest('thead').next().find('input[type=checkbox]').prop('checked',false);
				$(this).closest('thead').next().find('input[type=checkbox]').removeClass('already-selected');

			}else{
				$(this).closest('thead').next().find('input[type=checkbox]').prop('checked',true);
				$(this).closest('thead').next().find('input[type=checkbox]').addClass('already-selected');
			}
			
		});

		var grtr = $('.group-table > tbody >tr').clone();
		function getGroups(name){
			var url = 'AuthorityAction!getGroups.action';
			if(name!='undefined'){
				url = url+'?name='+name;
			}
			$('.group-table > tbody > tr').remove();
			$.ajax({ 
				url: url,
				type:'GET',
				contentType: "application/json", 
				dataType:'json',
				success: function(result){
					$.each(result,function(index){
						var tr = grtr.clone();
						tr.find('input[type=checkbox]').val(result[index].descriptor.id);
						tr.children('td:last').text(result[index].descriptor.name);
						$('.group-table > tbody').append(tr);
						tr.show();
					});
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                },
				statusCode:{500:function(){
								$('#limited-auth').modal('show');
								$('.glass-wall').show();
							}
				}
			});
		}
		
		var furlauthtr = $('.full-url-list > tbody >tr').clone();
		function getUnAddUrlAuths(){
			var groupid = $('.group-table > tbody').find('input[type=checkbox]:checked').val();
			var url = 'AuthorityAction!getAuths.action?type=url&groupid='+groupid;
			$('.full-url-list > tbody > tr').remove();
			$.ajax({ 
				url: url,
				type:'GET',
				contentType: "application/json", 
				dataType:'json',
				success: function(result){
					$.each(result,function(index){
						var tr = furlauthtr.clone();
						tr.find('input[type=checkbox]').val(result[index].descriptor.id);
						tr.children('td:eq(1)').text(result[index].descriptor.name);
						tr.children('td:eq(2)').text(result[index].descriptor.content);
						tr.children('td:last').text(result[index].descriptor.type);
						$('.full-url-list > tbody').append(tr);
						tr.show();
					});
					
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                },
				statusCode:{500:function(){
								$('#limited-auth').modal('show');
								$('.glass-wall').show();
							}
				}
			});
		}
		
		var fobjauthtr = $('.full-obj-list > tbody >tr').clone();
		function getUnAddObjAuths(){
			var groupid = $('.group-table > tbody').find('input[type=checkbox]:checked').val();
			var url = 'AuthorityAction!getAuths.action?type=object&groupid='+groupid;
			$('.full-obj-list > tbody > tr').remove();
			$.ajax({ 
				url: url,
				type:'GET',
				contentType: "application/json", 
				dataType:'json',
				success: function(result){
					$.each(result,function(index){
						var tr = fobjauthtr.clone();
						tr.find('input[type=checkbox]').val(result[index].descriptor.id);
						tr.children('td:eq(1)').text(result[index].descriptor.name);
						tr.children('td:last').text(result[index].descriptor.type);
						$('.full-obj-list > tbody').append(tr);
						tr.show();
					});
					
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                },
				statusCode:{500:function(){
								$('#limited-auth').modal('show');
								$('.glass-wall').show();
							}
				}
			});
		}
		
		function searchAuths(name,type,table,callback){
			var url = 'AuthorityAction!getAuths.action?type='+type+'&name='+name;
			$(table).children('tbody').children('tr').remove();
			$.ajax({ 
				url: url,
				type:'GET',
				contentType: "application/json", 
				dataType:'json',
				success: function(result){
					$.each(result,function(index){
						if(result[index].descriptor.type=='url'){
							var tr = furlauthtr.clone();
							tr.children('td:eq(2)').text(result[index].descriptor.content);
						}else{
							var tr = fobjauthtr.clone();
						}
						tr.find('input[type=checkbox]').val(result[index].descriptor.id);
						tr.children('td:eq(1)').text(result[index].descriptor.name);
						tr.children('td:last').text(result[index].descriptor.type);
						$(table).children('tbody').append(tr);
						
						tr.show();
					});
					
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                },
				statusCode:{500:function(){
								$('#limited-auth').modal('show');
								$('.glass-wall').show();
							}
				}
			});
		}
		
		function addAuth2Group(authlist,callback){
			var groupid = $('.group-table > tbody').find('input[type=checkbox]:checked').val();
			var url = 'AuthorityAction!createRlBtGroupAndAuths.action?groupid='+groupid+'&';
			$(authlist).each(function(){
				var authid = $(this).find('input[type=checkbox]:checked').val();
				var type = $(this).children('td:last').text();
				var crurl = url + "authid="+authid+"&type="+type;
				$.ajax({ 
					url: crurl,
					type:'GET',
					contentType: "application/json", 
					dataType:'json',
					success: function(result){
						
					},
					error : function(xhr) {
	                    if( xhr.status == "200"){
	                    	window.parent.location.assign('login.jsp');
	                    }
	                    return;
	                },
					statusCode:{500:function(){
									$('#limited-auth').modal('show');
									$('.glass-wall').show();
								}
					}
				});
				crurl = '';
			})
			
			setTimeout(callback,200);
		}
		
		var grpAthtr = '<tr><td><input type="checkbox"/></td><td class="second-td"></td><td></td></tr>';
		function queryGroupAuths(){
			var id = $('.group-table > tbody').find('input[type=checkbox]:checked').val();
			var url = 'AuthorityAction!getAuthsByGroupID.action?id='+id;
			
			$.ajax({ 
				url: url,
				type:'GET',
				contentType: "application/json", 
				dataType:'json',
				success:function(result){
					$('.auth-table > tbody > tr').remove();
					$.each(result,function(index){
						var tr = $(grpAthtr).clone();
						tr.find('input[type=checkbox]').val(result[index].descriptor.id);
						tr.children('td:eq(1)').text(result[index].descriptor.name);
						if('url'==result[index].descriptor.type){
							$('.url-auth-table > tbody').append(tr);
							tr.children('td:last').text(result[index].descriptor.content);
						}else{
							$('.obj-auth-table > tbody').append(tr);
							tr.children('td:last').text(oprtsToCHN(result[index].descriptor.operation));
						}
					});
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                }
			});
		}
		
		function delGroupAuth(id,callback){
			var groupid = $('.group-table > tbody').find('input[type=checkbox]:checked').val();
			var url = 'AuthorityAction!delRlBtGroupAndAuths.action?groupid='+groupid+'&authid='+id;
			$.ajax({ 
				url: url,
				type:'GET',
				success:function(result){
					
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                },
				statusCode:{500:function(){
								$('#limited-auth').modal('show');
								$('.glass-wall').show();
							}
				}
			});
			setTimeout(callback,200);
		}
		
		function createObjOprt(optrs,callback){
			var groupid = $('.group-table > tbody').find('input[type=checkbox]:checked').val();
			var authid = $('.obj-auth-table > tbody').find('input[type=checkbox]:checked').val();
			
			var url = 'AuthorityAction!selectObjOperation.action?groupid='+groupid+'&authid='+authid+'&optrs='+optrs;
			$.ajax({ 
				url: url,
				type:'GET',
				success:function(result){
					
				},
				error : function(xhr) {
                    if( xhr.status == "200"){
                    	window.parent.location.assign('login.jsp');
                    }
                    return;
                },
				statusCode:{500:function(){
								$('#limited-auth').modal('show');
								$('.glass-wall').show();
							}
				}
			});
			setTimeout(callback,200);
		}
		
		function warning(content,comfirmTxt,cancelTxt){
			$('#null-warning').find('.modal-footer').hide();
			$('#null-warning').find('.modal-body').children('div').removeClass('alert-info');
			$('#null-warning').find('.contents').text(content)
			$('#null-warning').modal('show');
			if(cancelTxt==''||comfirmTxt==''){
				$('#null-warning').find('.title').text('WARNING!');
			}else{
				$('#null-warning').find('.title').text('INFO!');
				$('#null-warning').find('.modal-body').children('div').addClass('alert-info');
				$('#null-warning').find('.modal-footer').show();
				$('#null-warning').find('.comfirm').text(comfirmTxt);
				$('#null-warning').find('.cancel').text(cancelTxt);
			}
		
		}
		
		function oprtsToCHN(str){
			if(str.indexOf('D') < 0&&str.indexOf('U') < 0&&str.indexOf('R') < 0){
				str = str.replace('C','创建');
			}else{
				str = str.replace('C','创建,');
			}
			if(str.indexOf('D') < 0&&str.indexOf('U') < 0){
				str = str.replace('R','查询');
			}else{
				str = str.replace('R','查询,');
			}
			if(str.indexOf('D') < 0){
				str = str.replace('U','更新');
			}else{
				str = str.replace('U','更新,');
			}
			str = str.replace('D','删除');
			return str;
		}


	</script>
  </body>
</html>